schema: '2.0'
stages:
  load_data:
    cmd: python src\S01_load_data.py
    deps:
    - path: data\remote\winequality-red.csv
      hash: md5
      md5: 6a883fd98624e18c0b7ce251f4fab4fb
      size: 100951
    - path: modules\data_loader.py
      hash: md5
      md5: c53160dd8d91dfeae76a52b37622d4b6
      size: 715
    - path: modules\logger_configurator.py
      hash: md5
      md5: e286601c2c429c503afaff8df14eefd6
      size: 513
    - path: src\S01_load_data.py
      hash: md5
      md5: 712f9a9e6b8fd8bd9a2631128475fd68
      size: 648
    outs:
    - path: data\raw\winequality-red.csv
      hash: md5
      md5: 2d2440983194f97ea8ea940257054caf
      size: 95085
  clean_data:
    cmd: python src\S02_clean_data.py
    deps:
    - path: data\raw\winequality-red.csv
      hash: md5
      md5: 2d2440983194f97ea8ea940257054caf
      size: 95085
    - path: modules\data_loader.py
      hash: md5
      md5: c53160dd8d91dfeae76a52b37622d4b6
      size: 715
    - path: modules\logger_configurator.py
      hash: md5
      md5: e286601c2c429c503afaff8df14eefd6
      size: 513
    - path: src\S02_clean_data.py
      hash: md5
      md5: 2d292f73ca3df54a16120e5cb59b3186
      size: 1158
    outs:
    - path: data\cleansed\winequality-red.csv
      hash: md5
      md5: bc4ca3daf1548cd1b1fca2ed06e2eb62
      size: 98283
  transform_data:
    cmd: python src\S03_transform_data.py
    deps:
    - path: data\cleansed\winequality-red.csv
      hash: md5
      md5: bc4ca3daf1548cd1b1fca2ed06e2eb62
      size: 98283
    - path: modules\data_loader.py
      hash: md5
      md5: c53160dd8d91dfeae76a52b37622d4b6
      size: 715
    - path: modules\logger_configurator.py
      hash: md5
      md5: e286601c2c429c503afaff8df14eefd6
      size: 513
    - path: src\S03_transform_data.py
      hash: md5
      md5: 0a28ecd36ee0305e36b5c410e3cdf6e6
      size: 1154
    outs:
    - path: data\transformed\winequality-red.csv
      hash: md5
      md5: bc4ca3daf1548cd1b1fca2ed06e2eb62
      size: 98283
  model_training_and_evaluate:
    cmd: python src\S04_model_training_and_evaluate.py --config=params.yaml
    deps:
    - path: modules\data_loader.py
      hash: md5
      md5: c53160dd8d91dfeae76a52b37622d4b6
      size: 715
    - path: modules\logger_configurator.py
      hash: md5
      md5: e286601c2c429c503afaff8df14eefd6
      size: 513
    - path: params.yaml
      hash: md5
      md5: c59c6e48582db30579c5ea5b033da20e
      size: 1808
    - path: src\S04_model_training_and_evaluate.py
      hash: md5
      md5: 72d70d6308a1695ff306b97b1f4ec8d4
      size: 2923
    params:
      params.yaml:
        model.GradientBoostingRegressor.params.learning_rate: 0.1
        model.GradientBoostingRegressor.params.n_estimators: 50
        model.Lasso.params.alpha: 1.0
        model.Ridge.params.alpha: 1.0
        model.SVR.params.C: 1.0
        model.SVR.params.kernel: rbf
    outs:
    - path: model_artifacts\saved_models
      hash: md5
      md5: 2a833c082be8013efe97a6ca1d7e3838.dir
      size: 291088
      nfiles: 5
    - path: report\metrics.json
      hash: md5
      md5: 247fb0193a4fd2d1ad1d92cb6965d23b
      size: 920
    - path: report\params.json
      hash: md5
      md5: 70765cff5638e1ca0d9409ac78985e6f
      size: 523
  model_to_prediction_service:
    cmd: python  src\S05_model_to_prediction_service.py
    deps:
    - path: modules\logger_configurator.py
      hash: md5
      md5: e286601c2c429c503afaff8df14eefd6
      size: 513
    - path: modules\read_config.py
      hash: md5
      md5: 51609abfd1a81335e6409ee2dac3a8fd
      size: 182
    - path: params.yaml
      hash: md5
      md5: 993141a8039ddeaea5afa5d505dcf7a2
      size: 1731
    - path: src\S05_model_to_prediction_service.py
      hash: md5
      md5: bc2ddb47de16c29b3081b3b1b0eb2fd9
      size: 1390
